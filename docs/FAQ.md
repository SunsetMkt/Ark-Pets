ArkPets附加说明文档
# 常见问题解答

### 目录
1. [启动桌宠后某些软件游戏会发生崩溃？](#1)
2. [桌宠悬空站立？桌宠卡在桌面上？](#2)
3. [桌宠的窗口背景是黑色的？](#3)
4. [提示“无法建立神经连接”？网络异常导致模型下载失败？](#4)
5. [如何获取程序日志文件？](#5)

-----

### 1.
启动桌宠后某些软件（游戏）会发生崩溃？
> - 在打开了桌宠的情况下，基于**某些特定游戏引擎**的游戏可能无法正常运行。该问题可能是由于其与桌宠游戏引擎 LWJGL 互相冲突导致。

### 2.
桌宠悬空站立？桌宠卡在桌面上？
> 常见原因：
> 1. 桌面装饰类软件（例如WallpaperEngine等壁纸软件、桌面整理软件）可能会干扰桌宠的窗口检测，导致窗口站立等功能表现异常。
> 2. 桌宠站立在了某些软件窗口的透明边界（不可见的边界）上方。
> 3. 桌宠的重力加速度被设置为零。这可以在启动器“行为”页面进行调整。

### 3.
桌宠的窗口背景是黑色的？
> [Issue #7](https://github.com/isHarryh/Ark-Pets/issues/7) 的调查显示，该问题与`NVIDIA GeForce`系列显卡的**显卡驱动**有关，尤其涉及OpenGL的图形设备接口（GDI）。 **目前有三种解决方法：**
> 
> **方法一** (推荐)  
> 1. 进入 *Windows的设置 - 系统 - 屏幕* 。
> 2. Win11 用户接着进入“显示卡”；Win10 用户接着进入“图形设置”；Win7 用户请换用其他方法。
> 3. 点击“浏览”，添加 ArkPets程序目录中的`ArkPets.exe`**和**`runtime/bin/java.exe` 为 [节能] 模式。
> 4. 重启桌宠后，如果问题仍然存在，则进行继续执行下面的步骤：
> 5. 将第 3 步的设置项重新更改为 [高性能]。
> 6. 右键桌面，进入 *NVIDIA控制面板*。在面板中，进入“管理3D设置”，将`OpenGL GDI 兼容性`设置为 [优先兼容性]。
> 7. “应用”以上设置，并重启桌宠后，如果问题仍然存在，请将上述设置项全部还原，然后尝试其他方法。
> 
> **方法二**  
> 1. 右键桌面，进入 *NVIDIA控制面板*。在面板中，进入“管理3D设置”。
> 2. 在“程序设置”选项卡的自定义程序处，点击“添加”，添加 ArkPets程序目录中的`ArkPets.exe`**和**`runtime/bin/java.exe`，将其 “首选图形处理器” 更改为 [集成图形]。
> 3. 重启桌宠后，如果问题仍然存在，请将上述设置项全部还原，然后尝试其他方法。
> 
> **方法三**  
> 1. 同时按下`Win+X`键，进入“设备管理器”。
> 2. 在“设备管理器”中，找到“显示适配器”并展开。
> 3. 在“显示适配器”列表中，找到带有`NVIDIA`字样的显卡，右键进入“属性”。
> 4. 在“属性”的“驱动程序”选项卡中，找到“回退驱动程序”按钮，检查它是否可用（有没有变灰）。
> 5. 如果该按钮可用，则点击该按钮并按照系统引导来继续操作，否则如果该按钮不可用，那么这个方法无效。

### 4.
提示“无法建立神经连接”？网络异常导致模型下载失败？
> 依次尝试：
> 1. 多重试几次下载操作。
> 2. 在启动器“模型“页面中点击”模型库管理“按钮，接着点击“下载时遇到问题？”链接，然后按照链接里的指引进行操作。
> 3. 如果使用了VPN，请在启动器“选项”处设置其“网络代理”地址。
> 4. 更换到其他网络（例如移动热点）。
> 5. 关闭反病毒软件（例如卡巴斯基）和网络防火墙。

### 5.
如何获取程序日志文件？
> 操作步骤：
> 1. 进入程序所在目录中的`logs`文件夹（或在启动器“选项”中点击“浏览日志”）。
> 2. 在文件夹中，按照修改时间排序文件，以便找到所需的日志。其中`desktop.log`是启动器产生的日志，`core.log`是桌宠本体产生的日志。
> 3. 某些日志信息可能需要将“日志等级”设置为`DEBUG`之后才会进行记录。
